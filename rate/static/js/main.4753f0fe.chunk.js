(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{161:function(e,t,a){e.exports=a(270)},248:function(e,t,a){},270:function(e,t,a){"use strict";a.r(t);a(162),a(187);var n=a(0),r=a.n(n),o=a(21),c=a.n(o),l=a(49),s=a.n(l),u=a(64),i=a(65),p=a(69),d=a(66),m=a(70),f=a(155),O=a(28),y=(a(193),a(145)),b=(a(271),a(102)),E=(a(240),a(23)),g=(a(242),a(146)),h=a(19),j=a(68),w=function(e){var t={};return window.location.search.replace("?","").split("&").map(function(e){return e.split("=")}).forEach(function(e){return t[e[0]]=e[1]}),t[e]},S="https://vkmacro.ru/api",v=(a(248),a(51)),A=a(11),_=a(10),R=a.n(_),L=a(16),G=a(52),U=a.n(G),I=new(a(158).a),k=function(e,t){var a=I.get("token");return t.params=Object(A.a)({},t.params),U.a.defaults.headers.common.Authorization="Bearer "+a,U.a.get(e,t)},x={user:{},myAccount:null,group:{},followers:[],followers_count:[],followers_loading:!1},P=function(e,t){return function(){var a=Object(L.a)(R.a.mark(function a(n,r){return R.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(null!=e&&e>0){a.next=4;break}return n({type:"FOLLOWERS_COUNT",payload:0}),n({type:"FOLLOWERS",payload:[]}),a.abrupt("return");case 4:n({type:"FOLLOWERS_LOADING",payload:!0}),k(S+"/followers/GetFollowersFilter",{params:{groupId:e,sorter:t}}).then(function(e){(e=e.data).isSuccess&&(n({type:"FOLLOWERS_COUNT",payload:e.object.count}),n({type:"FOLLOWERS",payload:e.object.items}),n({type:"FOLLOWERS_LOADING",payload:!1}))});case 6:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},F=function(e){return function(){var t=Object(L.a)(R.a.mark(function t(a,n){return R.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:k(S+"/group/GetGroupById",{params:{socialId:e}}).then(function(e){(e=e.data).isSuccess?a({type:"SELECTGROUP",payload:e.object}):a({type:"SELECTGROUP",payload:null})}).catch(function(e){console.log(e),a({type:"SELECTGROUP",payload:null})});case 1:case"end":return t.stop()}},t)}));return function(e,a){return t.apply(this,arguments)}}()},N=function(e,t){return function(){var a=Object(L.a)(R.a.mark(function a(n,r){return R.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(t){a.next=2;break}return a.abrupt("return");case 2:k(S+"/followers/GetFollowersFilter",{params:{groupId:e,followerId:t}}).then(function(e){(e=e.data).isSuccess?e.object.count>0&&n({type:"MYFOLLOWER",payload:e.object.items[0]}):n({type:"MYFOLLOWER",payload:null})});case 3:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},W=function(){return function(){var e=Object(L.a)(R.a.mark(function e(t,a){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppGetUserInfoResult":t({type:"USER",payload:e.detail.data});break;default:console.log(e.detail.type)}});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},T=function(){return function(){var e=Object(L.a)(R.a.mark(function e(t,a){return R.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s.a.send("VKWebAppGetUserInfo",{});case 1:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},C=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=w("vk_group_id"),t=w("vk_user_id");this.props.regVKApp(),this.props.vkWebAppGetUserInfo(),this.props.getFollowers(e),this.props.getGroupById(e),this.props.getFollowerById(e,t)}},{key:"render",value:function(){var e=this.props,t=e.followers,a=e.group,n=e.myAccount,o=e.user;return r.a.createElement("div",null,r.a.createElement(g.a,{mode:"dark"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),a?r.a.createElement("div",null,o.first_name&&r.a.createElement(E.a,{full:!0},r.a.createElement(E.a.Header,{title:"".concat(o.first_name," ").concat(o.last_name),thumb:"".concat(o.photo_100),thumbStyle:{"border-radius":"50%",width:"50px"},extra:r.a.createElement("div",{style:{float:"right"},className:"am-card-header-content"},r.a.createElement("img",{alt:"",src:"./images/coins.png"}),n?n.balls:0)}),r.a.createElement(E.a.Body,null,n?r.a.createElement(b.a,{className:"rate",columnNum:4,data:[{text:n.num},{icon:"./images/filled-like.png",text:n.likes},{icon:"./images/filled-topic.png",text:n.comments},{icon:"./images/undo.png",text:n.reposts}],activeStyle:!1}):r.a.createElement("h3",{style:{textAlign:"center"}},"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"))),r.a.createElement("h2",{style:{textAlign:"center"}},"\u0413\u0440\u0443\u043f\u043f\u0430"),r.a.createElement(E.a,{full:!0},r.a.createElement(E.a.Header,{title:a.name,thumb:a.photo100,thumbStyle:{borderRadius:"50%"},extra:r.a.createElement("div",{style:{float:"right"},className:"am-card-header-content"})})),r.a.createElement("h2",{style:{textAlign:"center"}},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"),t.map(function(e,t){return r.a.createElement("div",{key:e.followerId},r.a.createElement(y.a,{size:"sm"}),r.a.createElement(E.a,{full:!0},r.a.createElement(E.a.Header,{title:e.name,thumb:e.photo100,thumbStyle:{borderRadius:"50%",width:"50px"},extra:r.a.createElement("div",{style:{float:"right"},className:"am-card-header-content"},r.a.createElement("img",{alt:"",src:"./images/coins.png"}),e.balls)}),r.a.createElement(E.a.Body,null,r.a.createElement(b.a,{className:"rate",columnNum:4,data:[{text:e.num},{icon:"./images/filled-like.png",text:e.likes},{icon:"./images/filled-topic.png",text:e.comments},{icon:"./images/undo.png",text:e.reposts}],activeStyle:!1}))))})):r.a.createElement("h1",{style:{paddingTop:200,"text-align":"center"}},"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0434\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435"))}}]),t}(n.Component);var B=Object(j.b)(function(e){return{followers:e.ratePage.followers,group:e.ratePage.group,myAccount:e.ratePage.myAccount,user:e.ratePage.user}},function(e){return Object(h.bindActionCreators)({getFollowers:P,getGroupById:F,getFollowerById:N,regVKApp:W,vkWebAppGetUserInfo:T},e)})(C),D=(a(273),{user:{},user_loading:!1,groups:[],groups_loading:!1,actions:[],actions_count:0,actions_loading:!1,statistic:[]}),K=Object(h.combineReducers)({userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERPAGE_USER":return Object(A.a)({},e,{user:Object(A.a)({},t.payload)});case"USERPAGE_USER_LOADING":return Object(A.a)({},e,{user_loading:t.payload});case"USERPAGE_GROUPS":return Object(A.a)({},e,{groups:Object(v.a)(t.payload)});case"USERPAGE_GROUPS_LOADING":return Object(A.a)({},e,{groups_loading:t.payload});case"USERPAGE_ACTIONS":return Object(A.a)({},e,{actions:Object(v.a)(t.payload)});case"USERPAGE_ACTION_UPDATE":return Object(A.a)({},e,{actions:e.actions.map(function(e){return e.followersGroupActionId===t.payload.followersGroupActionId?Object(A.a)({},e,{isAddBalls:t.payload.isAddBalls}):e})});case"USERPAGE_COUNT":return Object(A.a)({},e,{actions_count:t.payload});case"USERPAGE_ACTIONS_LOADING":return Object(A.a)({},e,{actions_loading:t.payload});case"USERPAGE_USER_STATISTIC":return Object(A.a)({},e,{statistic:t.payload});default:return e}},ratePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTGROUP":return Object(A.a)({},e,{group:t.payload});case"FOLLOWERS":return Object(A.a)({},e,{followers:Object(v.a)(t.payload)});case"FOLLOWERS_COUNT":return Object(A.a)({},e,{followers_count:t.payload});case"FOLLOWERS_LOADING":return Object(A.a)({},e,{followers_loading:t.payload});case"MYFOLLOWER":return Object(A.a)({},e,{myAccount:t.payload});case"USER":return Object(A.a)({},e,{user:t.payload});default:return e}}}),M=a(153),V=a(154),H=Object(h.createStore)(K,Object(M.composeWithDevTools)(Object(h.applyMiddleware)(V.a))),Y=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={activePanel:"home",fetchedUser:null},a}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement(f.a,null,r.a.createElement(j.a,{store:H},r.a.createElement(O.c,null,r.a.createElement(O.a,{path:"/",component:B}))))}}]),t}(r.a.Component);s.a.send("VKWebAppInit",{}),c.a.render(r.a.createElement(Y,null),document.getElementById("root"))}},[[161,1,2]]]);
//# sourceMappingURL=main.4753f0fe.chunk.js.map