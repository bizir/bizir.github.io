(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{408:function(e,t,n){e.exports=n(945)},889:function(e,t,n){e.exports=n.p+"static/media/WebPage.4652b705.less"},944:function(e,t,n){e.exports=n.p+"static/media/index.4e88bcd1.less"},945:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),c=n.n(r),i=(n(413),n(400)),l=n(111),s=n(209),u=n(89),p=n(168),d=n(34),f=n(28),m=n.n(f),g=n(61),h=(n(946),n(169)),y=n.n(h),O=new(n(404).a),E=function(e,t){var n=O.get("token");return t.params=Object(d.a)({},t.params),y.a.defaults.headers.common.Authorization="Bearer "+n,y.a.get(e,t)},b=function(e){var t={};return window.location.search.replace("?","").split("&").map(function(e){return e.split("=")}).forEach(function(e){return t[e[0]]=e[1]}),t[e]},w="https://vkmacro.ru/api",v=(n(335),{user:{},user_loading:!1,groups:[],groups_loading:!1,actions:[],actions_count:0,actions_loading:!1,statistic:[]}),j=n(288),A=n.n(j),S=void 0,L={myAccount:null,group:{},followers:[],followers_count:[],followers_loading:!1},_=function(){return function(){var e=Object(g.a)(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.a.subscribe(function(e){switch(e.detail.type){case"VKWebAppGetUserInfoResult":S.setState({fetchedUser:e.detail.data});break;default:console.log(e.detail.type)}});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},G=function(){return function(){var e=Object(g.a)(m.a.mark(function e(t,n){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:A.a.send("VKWebAppGetUserInfo",{});case 1:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()},R=function(e,t){return function(){var n=Object(g.a)(m.a.mark(function n(a,o){return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(null!=e&&e>0){n.next=4;break}return a({type:"FOLLOWERS_COUNT",payload:0}),a({type:"FOLLOWERS",payload:[]}),n.abrupt("return");case 4:a({type:"FOLLOWERS_LOADING",payload:!0}),E(w+"/followers/GetFollowersFilter",{params:{groupId:e,sorter:t}}).then(function(e){(e=e.data).isSuccess&&(a({type:"FOLLOWERS_COUNT",payload:e.object.count}),a({type:"FOLLOWERS",payload:e.object.items}),a({type:"FOLLOWERS_LOADING",payload:!1}))});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},x=function(e,t){return function(){var n=Object(g.a)(m.a.mark(function n(a,o){return m.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:E(w+"/followers/GetFollowersFilter",{params:{groupId:e,followerId:t}}).then(function(e){(e=e.data).isSuccess?e.object.count>0&&a({type:"MYFOLLOWER",payload:e.object.items[0]}):a({type:"MYFOLLOWER",payload:null})});case 3:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(g.a)(m.a.mark(function t(n,a){return m.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:E(w+"/group/GetGroupById",{params:{socialId:e}}).then(function(e){(e=e.data).isSuccess?n({type:"SELECTGROUP",payload:e.object}):n({type:"SELECTGROUP",payload:null})}).catch(function(e){console.log(e),n({type:"SELECTGROUP",payload:null})});case 1:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()},U=Object(u.combineReducers)({userPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USERPAGE_USER":return Object(d.a)({},e,{user:Object(d.a)({},t.payload)});case"USERPAGE_USER_LOADING":return Object(d.a)({},e,{user_loading:t.payload});case"USERPAGE_GROUPS":return Object(d.a)({},e,{groups:Object(p.a)(t.payload)});case"USERPAGE_GROUPS_LOADING":return Object(d.a)({},e,{groups_loading:t.payload});case"USERPAGE_ACTIONS":return Object(d.a)({},e,{actions:Object(p.a)(t.payload)});case"USERPAGE_ACTION_UPDATE":return Object(d.a)({},e,{actions:e.actions.map(function(e){return e.followersGroupActionId==t.payload.followersGroupActionId?Object(d.a)({},e,{isAddBalls:t.payload.isAddBalls}):e})});case"USERPAGE_COUNT":return Object(d.a)({},e,{actions_count:t.payload});case"USERPAGE_ACTIONS_LOADING":return Object(d.a)({},e,{actions_loading:t.payload});case"USERPAGE_USER_STATISTIC":return Object(d.a)({},e,{statistic:t.payload});default:return e}},ratePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTGROUP":return Object(d.a)({},e,{group:t.payload});case"FOLLOWERS":return Object(d.a)({},e,{followers:Object(p.a)(t.payload)});case"FOLLOWERS_COUNT":return Object(d.a)({},e,{followers_count:t.payload});case"FOLLOWERS_LOADING":return Object(d.a)({},e,{followers_loading:t.payload});case"MYFOLLOWER":return Object(d.a)({},e,{myAccount:t.payload});default:return e}}}),I=n(389),W=n(390),P=n(403),F=n(391),N=n(405),T=(n(889),n(62)),C=R,B=k,D=x,M=_,K=G,V=function(e){function t(){return Object(I.a)(this,t),Object(P.a)(this,Object(F.a)(t).apply(this,arguments))}return Object(N.a)(t,e),Object(W.a)(t,[{key:"componentDidMount",value:function(){var e=b("vk_group_id"),t=b("vk_user_id");this.props.regVKApp(),this.props.vkWebAppGetUserInfo(),this.props.getFollowers(e),this.props.getGroupById(e),this.props.getFollowerById(e,t)}},{key:"render",value:function(){var e=this.props,t=e.followers,n=e.group,a=e.myAccount;return o.a.createElement("div",null,o.a.createElement(T.c,{mode:"dark"},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433"),n?o.a.createElement("div",null,o.a.createElement("h2",{style:{textAlign:"center"}}),o.a.createElement(T.a,{full:!0},o.a.createElement(T.a.Header,{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",thumb:"",thumbStyle:{"border-radius":"50%",width:"50px"},extra:o.a.createElement("div",{style:{float:"right"},class:"am-card-header-content"},o.a.createElement("img",{src:"https://img.icons8.com/color/32/000000/coins.png"}),100)}),o.a.createElement(T.a.Body,null,a?o.a.createElement(T.b,{className:"rate",columnNum:4,data:[{text:101},{icon:"https://img.icons8.com/color/96/000000/filled-like.png",text:0},{icon:"https://img.icons8.com/color/96/000000/filled-topic.png",text:0},{icon:"https://img.icons8.com/color/96/000000/undo.png",text:0}],activeStyle:!1}):o.a.createElement("h3",{style:{textAlign:"center"}},"\u041d\u0435\u0442 \u0430\u043a\u0442\u0438\u0432\u043d\u044b\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439"))),o.a.createElement("h2",{style:{textAlign:"center"}},"\u0413\u0440\u0443\u043f\u043f\u0430"),o.a.createElement(T.a,{full:!0},o.a.createElement(T.a.Header,{title:n.name,thumb:n.photo100,thumbStyle:{"border-radius":"50%"},extra:o.a.createElement("div",{style:{float:"right"},class:"am-card-header-content"},o.a.createElement("img",{src:"https://img.icons8.com/color/32/000000/coins.png"}),100)})),o.a.createElement("h2",{style:{textAlign:"center"}},"\u0420\u0435\u0439\u0442\u0438\u043d\u0433 \u043f\u043e\u0434\u043f\u0438\u0441\u0447\u0438\u043a\u043e\u0432"),t.map(function(e,t){return o.a.createElement("div",null,o.a.createElement(T.d,{size:"sm"}),o.a.createElement(T.a,{full:!0},o.a.createElement(T.a.Header,{title:e.name,thumb:e.photo100,thumbStyle:{"border-radius":"50%",width:"50px"},extra:o.a.createElement("div",{style:{float:"right"},class:"am-card-header-content"},o.a.createElement("img",{src:"https://img.icons8.com/color/32/000000/coins.png"}),e.balls)}),o.a.createElement(T.a.Body,null,o.a.createElement(T.b,{className:"rate",columnNum:4,data:[{text:e.num},{icon:"https://img.icons8.com/color/96/000000/filled-like.png",text:e.likes},{icon:"https://img.icons8.com/color/96/000000/filled-topic.png",text:e.comments},{icon:"https://img.icons8.com/color/96/000000/undo.png",text:e.reposts}],activeStyle:!1}))))})):o.a.createElement("h1",{style:{paddingTop:200,"text-align":"center"}},"\u041d\u0435\u0442 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043e \u0434\u0430\u043d\u043d\u043e\u0439 \u0433\u0440\u0443\u043f\u043f\u0435"))}}]),t}(a.Component);var H=Object(s.b)(function(e){return{followers:e.ratePage.followers,group:e.ratePage.group,myAccount:e.ratePage.myAccount}},function(e){return Object(u.bindActionCreators)({getFollowers:C,getGroupById:B,getFollowerById:D,regVKApp:M,vkWebAppGetUserInfo:K},e)})(V),Y=n(398),z=n(399),J=Object(u.createStore)(U,Object(Y.composeWithDevTools)(Object(u.applyMiddleware)(z.a))),Q=function(){return o.a.createElement(i.a,null,o.a.createElement(s.a,{store:J},o.a.createElement(l.c,null,o.a.createElement(l.a,{exact:!0,path:"/",component:H}))))},$=(n(944),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function q(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(o.a.createElement(Q,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/rate",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/rate","/service-worker.js");$?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):q(e)})}}()}},[[408,1,2]]]);
//# sourceMappingURL=main.54f7e077.chunk.js.map